# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: LU54NHksO+Adb7yKVBnjV/PkxyThbDvaW0bBlw9QhNKTuMsb5z/NQ3wf+u3/jjiWmTA2PhmKMvN239K12TztegAJxaj814zXWTl4aZBHyXE/1VbGnIqvtrkOJ3xqXFmm3utJus1qSPN1Hsd9ZJtBeL+Lwh+Il/nDfxc46NvoS8TKnKcgn9Rz5mYDtddX+D48Kaj3UySEKtESI8xGQ/4TAdJa+Eb0ANZ88WHQbcQuEo1a4iNNhM6CS1TvClUAV3NQyF+7O31TSqR3nHVK0/9gMZdQqbLT0U6eFLX+wcz4PjSu8Olak//luHvp0rP5kdjcRmB2ZDB4jQ9eHRJses3Lv1oejHiCl5Asr/xIRXvuglQz2Zh2MYxySFyVJo09XmDDfeF4Lkca4GsBvAUnMDC5LZw4SmtE2cIbrTjFYsWDxHIq1IY0pB6aegOEJKfqsnjnvgIpHQX7v7WKdJUA6FE12OT8IWmYsuPMroi3391cZJp1qelT6a7NYamdZk+7Prq76Xr10tw/S7J3ih6aXiRMv7nYJET6XZvJOPMd1FFDcujHTbhpQbgbSr1VUkj5ynyJjWsPlpwd7ihAUvoCdT4LJVogHsX/SI5zTdvI926cyCLJW0/imzflXmRqN0y90/V40LnaGxUyAizh5ocNbh3OrauXGwoJhu6SZvzU503Xw/I=
  - secure: I7jHXZfLA+epVauhxnqFpj+pZ/MhEi0hE14mVcin1PFpMDzN43PsIuk86dlIJ8wIvV2ECPCE0fTQoJeqDZdi4bh7p6lptowOukspQCqwmLLbDyTVtDJxgVmq5nlCDyWzGwiPYDU7G8l0BPROibQwrD9rdGSDVxNbswI/R825CCG/aUXyfWY07A6SqM2NT0XWjoOt2xFn1Ckq5BvmH2yyz6FkkfzQ1RJbAkSqXFeWSNOv8uedKHsToykPgx4gtBPfIr7GjEM4hKiMeiRejhbwzjbNQ+CLpC1Lc9rrI0J8BtBtcCn3ShIxM/AYd+c3BOyePYI4LT1NYQD099YjYKo03mdUjWg+TqoVhc4DUiQk1eYyT2KzXron2uraXsdb50uW7xKx0HdqZDJDy6SuTPnqGYUyAx/wmMNId8Sx1t3+lVND2aSgG1Q4SzHUEIj1VrfII2Pv2tHvO1wqRNx+0/L5rMJzXoiPr5/ybYX/4r258kNB4Oj03+jz8Ozj7sF8WrNf3ZYEQntHbmu4KOx+lEXRtygBg9h7aglo2l34uR+8TOeHDXQB3F1lZkxBWrR0GRkIVFrSsT/Oqbd4DBh15ZxftYbMkhGtkYKkbkP+55aZA3XWj9VeBEQ+zOQYNEEPfM7NaLuM1tHtRpebHkk8jE3TLnRT4x4mc4quL7PAhijJ6G0=
  - secure: QxT2KJG4Ml/IJvIVzj93t+UL8CsbPPtnoHVZlClgfXhqfu8jDaJb4RtJhqGDJUaJUt41/xc1kVjp+IQIa3JLki+4j6tpfCfOdlZ48q73S1Uwjgc91JpNJMcef4Bsb+thXiMZNGS5iiJdcXvvaoSZClsPLKHwpz5DH99FrTix1K0ZtgqkBhzzlMnH/c4hiBzITv4MY1hiRuFLwR5/KwoCPYGo775+wlbRP+Gloa0L0icPSiH6vRtHjwgIbIJSMikrNjKnmB3boNVN1FtONMk3nmkbgh+HDk9yJpVr+3g81drW8xGVSdH6E3tMl35XkdJS/J1HN8BhAuJBkuDlVBRRBZrL7Elt0rQ+eoIoj082FaOPewHzjDlwaQ6ZeJLFE+6wM+ZMLorP0gt/H0rs0xNlQHyNVq0f25fGSxwUk/nrJyFWA1phWyvXbR0JnRrOSjDD4bb469Yx8CMlHbEhX1tc/w87II7HErEPQwp9xzkBFVVkMlnrBv7XBU2vvmolO9nGKYYCE7AghDuNPcL+q7i1hIOwDHb1RyjrCZcJ42X7Q/nB30EDjJ1XuxElthvOhPiXtpoDuKQtJuFNL/VaNqKlT/11GABEgHtkYWolKaERqrxQRLJlAPW8M3/K2cOdkTUZ8mvY6u4D/vG03mJB95NEA1tlxBxiLfKsCoPllwv8Ias=
  - secure: VQeoY/AHLfcEsEU6rIb1wbHXT7eDvSBukCmIZUICcH9XEGwcOLxgZ820uC5+J/dBXBbYRqxZeziQMuC44ACVzb6sUfUS9Mqo011/Yw2M9kZMqSLr3Qxc3GenoVmIoDmjnx8CsrOEpuWHTW4Zgg/wdp75olaTNdAz8b3Jk7IOk5gasCYWeedQiKXxeOGGMa2kBEOfWXWTE+eO2iCw8FrSDLWGRkTP7Gn88xHx8e3rC+FoZl/IKIGsmBO8Wq3b+1ayg00P/sopuEZCW5mA1bca3fiDyh3tpRsVyu6xcGSsyrzkCZOgkI7CdVgT9rEJQSl2O8hGWPcAldtbz8YRjPEFhLFhp8O47zD+w8W10Vmk+lwTYYTsmEFVDZvYl+GCdK4Apjm2GC3uwWyESYdLPe3OQTI8J7Fbz5DPJr/dJW1hw1VTEhDHdKmlDDULu6V6zbdLg0N6UeGpi8dYYsfX7zNpGIpJm+lF4L1buZEcb3cU7vvEk6A8Z96iod3HqSAxqAWCtSJn+70iug65X094m76aim6WVcrye4njT67xb45QQgcfvBb3uY9dMD/ZfHXYSda9JAspQ00o2VVi0A+MPaT0HwpNFz8/17ybsZ9GIu5M7yOzavLlSZjvVHUxQySNneCjWw+Pkr7Iy0hbT1qFK17kiQZMg0KkjKtiUY+Q9l2Ul74=
  - secure: fsRu697S7jdNkN7YfyDC3iipx7Yf5x5PpFDcJd01AqVUHDhZ5xf0OLjOWz0qNw4HiC4No3lCC2FcFR0r/vsizGikMJJfkExaLUmwp9R5YO20qmiyEoSmSNh6RlYkMyr0aoE/bEw3GTlv0TY2pFwAaUNz7Ia3Z7SVOqgk45W/m2vibNwQMG2Dwyq468keMUQW6ViodmMXYQo8sHgdZ/OSSIUjWaKFOuW99SWyod5aaW5ZcPd3UqWZeFXFcRYbA9v7wJ2EWZETwJ3Q/6Ai5BYigRIXVSzgVNecshG8tLLcRNcSWuB5BNzeAy5wUfDfBIoswU4t2HzcLMYG3+s04i49VAAlVJ6+B/Zn2ybfWMRW1DtjdqmZIDzf4BDHI3V7Y4fhB/QKj3j0xGhlVJBBNnXu7JIU/cXnuXvVNTgxz611bMBZerJt/VbTRnTIuwe5bIRuyWT32HuT4qZZ+p4e1mZfUm8WZXK9vPy9qdOqrcJP5r4khjcj6KHKLJ6rtc2e6pUAYf0c9DlWKZ4UW786adFS2kIQdtouH5h+B6roGBonBka6wfHOK+hYrcyy6cz7etN/nKGS0/8zcXwdyhdJTGSXQ4R3hRk3XDCTi2kGFSSF2yYJXgzYMevh+oqqrsCJv1skhdDmP+bhfDR7w6SftaQi6x4VeH8D5eOcqEULKoAopeY=
  - secure: e2Du3zq/0/yet61qxcDUiutQmuU0JAyBNXrj3AfheC8xEbvUexfdh0E9ib5fmHiurLH4j+QYEia3tnP9tfzy9UTmKRyBtBwKZifHoOo2r2/0Ra33JFiX+k8ZVZOwHHrjQFfiSjebwgu7IhutgkGWAajbobJetmGc5iMcCiADhNmiMFVvnBHQL71KKUOYOqWsWuBNRAVNFg42OTgQDczZbm0loJR3wHh/4fwXVCCjzW2eBtSxegmdvvXpoqt0evF1GrAh/NILTtPlZU6TAtaV+BxhXVr17EBawCUc77qvcqzEcMWhxpmey3BmaMKwD9k4XKtGCh88pSUDXIkaj4nDuQ1LIBIUXeBLW7/WDrCZrFV6eob+rq2/pmawnLE8LxAfyn5KgHUsYukjEcOt+Uf41FdJDxoCsXWNi7yqbcmQA8Mot42ryE9CS+QDw2KRVJIKIbaqg1EijdJIpmsa9uPzKwQYQzJugLzl4deo3KdTJKwppUjj4xVEmi6gT6H1jP3VkOVHmHY6YbVjCHJSNhaBSzXQ5EgukPxL8UhwFMcTNr7CjZ9JG2Dso4q2dL7caCzJtkERAoH0gQgGn3kzfpbG7AkJjy3WBs6e30DdLay3lr4KAq/jp6HgtTEdUjyDc6KMeTsvSCJadQV3+dm1TCQYqrls775O8MpCzi17OxvNo+M=
  - secure: JukISg3MK+15yX67jLd+LjOPvxPHyFVbwsoqKd6gLkHzQbmxSFIHX3SnRXOku6CR15Q3ZouwO/9tcjgCubSD9SmYiWu501cOjS2ea+Yq9qIJD2J9Yu+17hUW1C6AEs7U7hV1UaDx4BCHRI/sFmzC+fmCejOhWc9A0CoBs2bxQzm+lEOG8o40DjueonzrXlcWQ6jlyKQqDk3c7IlOpiaz4mz1HeAS/laj2DqnK81U5BdE8vfXoM6jNSQxFtbJChQ5ATtBSOUKq61g4zpaGUcY/buX+G8/4PV1gwestOOLq2YRrpzw6YVKXQE78JwtMHk/UfNOFfNHOQnWDwG5gIUgaS4fJpDkxDrfHFiM0HkXjexbaooYtdlFbQfa7hZ/8zPDD7rCcbLmKi2J/6UWqfl8cmAFMI61Zv2YU8gDRd9RuEs+OfclxeV8c1CMpGnj83nZ52d9XpBf689K6N4IS1EqSEy1+54JBov73/VdRGiuV8VhZMr4asRz4USFhwKtbWh209WGX6rKr6f74ZhwlfZV41J0QZkI9Z80ChVMpzwkwNvrnv3CXAoYlDVBWHdamQdcu0kKjRRTgq2Qg062VET8woWP/OjQTAnWlcZ77i5mIgmAiC4+M0zXOythG+VXa+3/dBl8/t6UYFZ4s1MT6dChEZ9rY80Oh5UxcOFsrAjZd/s=
